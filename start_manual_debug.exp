#!/usr/bin/expect -f
set timeout 60
spawn ssh -o StrictHostKeyChecking=no root@74.1.20.119
expect "password:"
send "bMjVTAVByf\r"
expect "#"
send "cd /opt/zero\r"
expect "#"
send "node scripts/run-node.mjs gateway --bind 0.0.0.0 --port 3000\r"
expect {
  "error" { send_user "\nError detected during boot\n"; exp_continue }
  "listening" { send_user "\nGateway is online\n" }
  timeout { send_user "\nGateway boot timeout\n" }
}
send "\x03"
expect "#"
send "exit\r"
expect eof
